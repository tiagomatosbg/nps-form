<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pesquisa de SatisfaÃ§Ã£o - Real Supermercado Centro</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f8f9fa;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            padding: 20px;
        }
        .container {
            background: white;
            padding: 25px;
            border-radius: 12px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            max-width: 500px;
            width: 100%;
            text-align: center;
        }
        .logo {
            width: 120px;
            margin-bottom: 15px;
        }
        h2 {
            color: #ff6600;
            font-size: 22px;
            margin-bottom: 15px;
        }
        p {
            color: #333;
            font-size: 16px;
            margin-bottom: 10px;
        }
        .rating-group {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 5px;
            margin: 15px 0;
        }
        .rating input {
            display: none;
        }
        .rating label {
            width: 40px;
            height: 40px;
            background: #e0e0e0;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s, transform 0.2s, color 0.3s;
            font-size: 16px;
        }
        .rating input:checked ~ label,
        .rating input:checked ~ label ~ label {
            background: #ff6600;
            color: white;
            transform: scale(1.1);
            box-shadow: 0 0 8px rgba(255, 102, 0, 0.5);
        }
        .rating label:hover {
            background: #ff8533;
            color: white;
            transform: scale(1.1);
        }
        textarea {
            width: 100%;
            padding: 12px;
            margin-top: 15px;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 14px;
            resize: none;
        }
        button {
            background: #ff6600;
            color: white;
            padding: 12px;
            border: none;
            width: 100%;
            margin-top: 15px;
            cursor: pointer;
            font-size: 18px;
            border-radius: 8px;
            transition: background 0.3s;
            font-weight: bold;
        }
        button:hover {
            background: #cc5500;
        }
        @media (max-width: 600px) {
            .container {
                max-width: 100%;
                padding: 15px;
            }
            .rating-group {
                flex-wrap: wrap;
            }
            .rating label {
                width: 35px;
                height: 35px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="images/logo-real-supermercado.webp" alt="Real Supermercado Centro" class="logo">
        <h2>Queremos ouvir vocÃª! ðŸ˜Š</h2>
        <p>De 0 a 10, o quanto vocÃª recomendaria o <strong>Real Supermercado Centro</strong> para amigos e familiares?</p>
        <div class="rating-group" id="nps-container">
            <script>
                for (let i = 0; i <= 10; i++) {
                    document.write(`
                        <input type='radio' name='nps' id='nps-${i}' value='${i}'>
                        <label for='nps-${i}'>${i}</label>
                    `);
                }
            </script>
        </div>
        <p><strong>Nos conte sua experiÃªncia! Como vocÃª avalia esses aspectos da nossa loja?</strong></p>
        <div id="aspectos">
            <script>
                const aspectos = [
                    "Atendimento da equipe", "Variedade e disponibilidade dos produtos",
                    "PreÃ§o dos produtos", "Facilidade de pagamento", "Ambiente e limpeza"
                ];
                aspectos.forEach(aspecto => {
                    document.write(`<p><strong>${aspecto}:</strong></p><div class='rating-group'>`);
                    for (let i = 0; i <= 10; i++) {
                        document.write(`
                            <input type='radio' name='${aspecto.toLowerCase().replace(/ /g, "_")}' id='${aspecto.toLowerCase().replace(/ /g, "_")}-${i}' value='${i}'>
                            <label for='${aspecto.toLowerCase().replace(/ /g, "_")}-${i}'>${i}</label>
                        `);
                    }
                    document.write(`</div>`);
                });
            </script>
        </div>
        <textarea id="improve" placeholder="Tem algo que poderÃ­amos melhorar? Sua opiniÃ£o Ã© muito importante para nÃ³s! ðŸ˜Š"></textarea>
        <button onclick="submitForm()">Enviar Feedback</button>
    </div>
    <script>
        function submitForm() {
            const formData = new FormData();
            
            const nps = document.querySelector('input[name="nps"]:checked');
            formData.append("nps", nps ? nps.value : "");

            const aspectos = ["atendimento_da_equipe", "variedade_e_disponibilidade_dos_produtos",
                              "preco_dos_produtos", "facilidade_de_pagamento", "ambiente_e_limpeza"];

            aspectos.forEach(aspecto => {
                const value = document.querySelector(`input[name="${aspecto}"]:checked`);
                formData.append(aspecto, value ? value.value : "");
            });

            formData.append("improve", document.getElementById("improve").value);

            fetch("https://script.google.com/macros/s/AKfycbyIJnfxP4g4XOUEY_OOkj1wbY4JjmOZGCbkntRIdkCC3769EHOfAY79Kf9g1NYsus3MZA/exec", {
                method: "POST",
                body: formData
            })
            .then(response => response.text())
            .then(result => {
                alert("Obrigado pelo seu feedback!");
            })
            .catch(error => {
                console.error("Erro:", error);
                alert("Houve um erro ao enviar. Tente novamente.");
            });
        }
    </script>
</body>
</html>
